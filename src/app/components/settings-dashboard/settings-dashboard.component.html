<div class="settings-page" [class.dark-mode]="isDarkMode$ | async">
  <div class="settings-card">
    <div class="settings-header">
      <h2>Environment Settings</h2>
      <p>Manage your application's configuration key-value pairs.</p>
    </div>
    <div class="settings-body">
      <form [formGroup]="settingsForm">
        <div class="form-content" formArrayName="envVars">
          <div *ngFor="let envVar of envVars.controls; let i=index" class="env-var-row" [formGroupName]="i">
            <input formControlName="key" placeholder="Key" class="env-input">
            <input formControlName="value" placeholder="Value" class="env-input">
            <button type="button" (click)="removeEnvVar(i)" class="btn-icon btn-remove">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256"><path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"></path></svg>
            </button>
          </div>
        </div>
        <div class="settings-footer">
          <button type="button" (click)="addEnvVar()" class="btn btn-add">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"></path></svg>
            <span>Add Variable</span>
          </button>
          <button type="button" (click)="save()" class="btn btn-save">Save Changes</button>
        </div>
      </form>
    </div>
  </div>
</div>
